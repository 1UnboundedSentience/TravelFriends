function dcount()
{$.ajax({type:"POST",url:"../../../controllers/ajax/dcount.php",success:function(msg){}});};function clickSponsorSearch(idsearch,idsponsor)
{};(function(){var initializing=false;window.JQClass=function(){};JQClass.classes={};JQClass.extend=function extender(prop){var base=this.prototype;initializing=true;var prototype=new this();initializing=false;for(var name in prop){prototype[name]=typeof prop[name]=='function'&&typeof base[name]=='function'?(function(name,fn){return function(){var __super=this._super;this._super=function(args){return base[name].apply(this,args);};var ret=fn.apply(this,arguments);this._super=__super;return ret;};})(name,prop[name]):prop[name];}
function JQClass(){if(!initializing&&this._init){this._init.apply(this,arguments);}}
JQClass.prototype=prototype;JQClass.prototype.constructor=JQClass;JQClass.extend=extender;return JQClass;};})();(function($){JQClass.classes.JQPlugin=JQClass.extend({name:'plugin',defaultOptions:{},regionalOptions:{},_getters:[],_getMarker:function(){return'is-'+this.name;},_init:function(){$.extend(this.defaultOptions,(this.regionalOptions&&this.regionalOptions[''])||{});var jqName=camelCase(this.name);$[jqName]=this;$.fn[jqName]=function(options){var otherArgs=Array.prototype.slice.call(arguments,1);if($[jqName]._isNotChained(options,otherArgs)){return $[jqName][options].apply($[jqName],[this[0]].concat(otherArgs));}
return this.each(function(){if(typeof options==='string'){if(options[0]==='_'||!$[jqName][options]){throw'Unknown method: '+options;}
$[jqName][options].apply($[jqName],[this].concat(otherArgs));}
else{$[jqName]._attach(this,options);}});};},setDefaults:function(options){$.extend(this.defaultOptions,options||{});},_isNotChained:function(name,otherArgs){if(name==='option'&&(otherArgs.length===0||(otherArgs.length===1&&typeof otherArgs[0]==='string'))){return true;}
return $.inArray(name,this._getters)>-1;},_attach:function(elem,options){elem=$(elem);if(elem.hasClass(this._getMarker())){return;}
elem.addClass(this._getMarker());options=$.extend({},this.defaultOptions,this._getMetadata(elem),options||{});var inst=$.extend({name:this.name,elem:elem,options:options},this._instSettings(elem,options));elem.data(this.name,inst);this._postAttach(elem,inst);this.option(elem,options);},_instSettings:function(elem,options){return{};},_postAttach:function(elem,inst){},_getMetadata:function(elem){try{var data=elem.data(this.name.toLowerCase())||'';data=data.replace(/'/g,'"');data=data.replace(/([a-zA-Z0-9]+):/g,function(match,group,i){var count=data.substring(0,i).match(/"/g);return(!count||count.length%2===0?'"'+group+'":':group+':');});data=$.parseJSON('{'+data+'}');for(var name in data){var value=data[name];if(typeof value==='string'&&value.match(/^new Date\((.*)\)$/)){data[name]=eval(value);}}
return data;}
catch(e){return{};}},_getInst:function(elem){return $(elem).data(this.name)||{};},option:function(elem,name,value){elem=$(elem);var inst=elem.data(this.name);if(!name||(typeof name==='string'&&value==null)){var options=(inst||{}).options;return(options&&name?options[name]:options);}
if(!elem.hasClass(this._getMarker())){return;}
var options=name||{};if(typeof name==='string'){options={};options[name]=value;}
this._optionsChanged(elem,inst,options);$.extend(inst.options,options);},_optionsChanged:function(elem,inst,options){},destroy:function(elem){elem=$(elem);if(!elem.hasClass(this._getMarker())){return;}
this._preDestroy(elem,this._getInst(elem));elem.removeData(this.name).removeClass(this._getMarker());},_preDestroy:function(elem,inst){}});function camelCase(name){return name.replace(/-([a-z])/g,function(match,group){return group.toUpperCase();});}
$.JQPlugin={createPlugin:function(superClass,overrides){if(typeof superClass==='object'){overrides=superClass;superClass='JQPlugin';}
superClass=camelCase(superClass);var className=camelCase(overrides.name);JQClass.classes[className]=JQClass.classes[superClass].extend(overrides);new JQClass.classes[className]();}};})(jQuery);;(function($){var pluginName='countdown';var Y=0;var O=1;var W=2;var D=3;var H=4;var M=5;var S=6;$.JQPlugin.createPlugin({name:pluginName,defaultOptions:{until:null,since:null,timezone:null,serverSync:null,format:'dHMS',layout:'',compact:false,padZeroes:false,significant:0,description:'',expiryUrl:'',expiryText:'',alwaysExpire:false,onExpiry:null,onTick:null,tickInterval:1},regionalOptions:{'':{labels:['Years','Months','Weeks','Days','Hours','Minutes','Seconds'],labels1:['Year','Month','Week','Day','Hour','Minute','Second'],compactLabels:['y','m','w','d'],whichLabels:null,digits:['0','1','2','3','4','5','6','7','8','9'],timeSeparator:':',isRTL:false}},_getters:['getTimes'],_rtlClass:pluginName+'-rtl',_sectionClass:pluginName+'-section',_amountClass:pluginName+'-amount',_periodClass:pluginName+'-period',_rowClass:pluginName+'-row',_holdingClass:pluginName+'-holding',_showClass:pluginName+'-show',_descrClass:pluginName+'-descr',_timerElems:[],_init:function(){var self=this;this._super();this._serverSyncs=[];var now=(typeof Date.now=='function'?Date.now:function(){return new Date().getTime();});var perfAvail=(window.performance&&typeof window.performance.now=='function');function timerCallBack(timestamp){var drawStart=(timestamp<1e12?(perfAvail?(performance.now()+performance.timing.navigationStart):now()):timestamp||now());if(drawStart-animationStartTime>=1000){self._updateElems();animationStartTime=drawStart;}
requestAnimationFrame(timerCallBack);}
var requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null;var animationStartTime=0;if(!requestAnimationFrame||$.noRequestAnimationFrame){$.noRequestAnimationFrame=null;setInterval(function(){self._updateElems();},980);}
else{animationStartTime=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||now();requestAnimationFrame(timerCallBack);}},UTCDate:function(tz,year,month,day,hours,mins,secs,ms){if(typeof year=='object'&&year.constructor==Date){ms=year.getMilliseconds();secs=year.getSeconds();mins=year.getMinutes();hours=year.getHours();day=year.getDate();month=year.getMonth();year=year.getFullYear();}
var d=new Date();d.setUTCFullYear(year);d.setUTCDate(1);d.setUTCMonth(month||0);d.setUTCDate(day||1);d.setUTCHours(hours||0);d.setUTCMinutes((mins||0)-(Math.abs(tz)<30?tz*60:tz));d.setUTCSeconds(secs||0);d.setUTCMilliseconds(ms||0);return d;},periodsToSeconds:function(periods){return periods[0]*31557600+periods[1]*2629800+periods[2]*604800+
periods[3]*86400+periods[4]*3600+periods[5]*60+periods[6];},_instSettings:function(elem,options){return{_periods:[0,0,0,0,0,0,0]};},_addElem:function(elem){if(!this._hasElem(elem)){this._timerElems.push(elem);}},_hasElem:function(elem){return($.inArray(elem,this._timerElems)>-1);},_removeElem:function(elem){this._timerElems=$.map(this._timerElems,function(value){return(value==elem?null:value);});},_updateElems:function(){for(var i=this._timerElems.length-1;i>=0;i--){this._updateCountdown(this._timerElems[i]);}},_optionsChanged:function(elem,inst,options){if(options.layout){options.layout=options.layout.replace(/&lt;/g,'<').replace(/&gt;/g,'>');}
this._resetExtraLabels(inst.options,options);var timezoneChanged=(inst.options.timezone!=options.timezone);$.extend(inst.options,options);this._adjustSettings(elem,inst,options.until!=null||options.since!=null||timezoneChanged);var now=new Date();if((inst._since&&inst._since<now)||(inst._until&&inst._until>now)){this._addElem(elem[0]);}
this._updateCountdown(elem,inst);},_updateCountdown:function(elem,inst){elem=elem.jquery?elem:$(elem);inst=inst||elem.data(this.name);if(!inst){return;}
elem.html(this._generateHTML(inst)).toggleClass(this._rtlClass,inst.options.isRTL);if($.isFunction(inst.options.onTick)){var periods=inst._hold!='lap'?inst._periods:this._calculatePeriods(inst,inst._show,inst.options.significant,new Date());if(inst.options.tickInterval==1||this.periodsToSeconds(periods)%inst.options.tickInterval==0){inst.options.onTick.apply(elem[0],[periods]);}}
var expired=inst._hold!='pause'&&(inst._since?inst._now.getTime()<inst._since.getTime():inst._now.getTime()>=inst._until.getTime());if(expired&&!inst._expiring){inst._expiring=true;if(this._hasElem(elem[0])||inst.options.alwaysExpire){this._removeElem(elem[0]);if($.isFunction(inst.options.onExpiry)){inst.options.onExpiry.apply(elem[0],[]);}
if(inst.options.expiryText){var layout=inst.options.layout;inst.options.layout=inst.options.expiryText;this._updateCountdown(elem[0],inst);inst.options.layout=layout;}
if(inst.options.expiryUrl){window.location=inst.options.expiryUrl;}}
inst._expiring=false;}
else if(inst._hold=='pause'){this._removeElem(elem[0]);}},_resetExtraLabels:function(base,options){var changingLabels=false;for(var n in options){if(n!='whichLabels'&&n.match(/[Ll]abels/)){changingLabels=true;break;}}
if(changingLabels){for(var n in base){if(n.match(/[Ll]abels[02-9]|compactLabels1/)){base[n]=null;}}}},_adjustSettings:function(elem,inst,recalc){var now;var serverOffset=0;var serverEntry=null;for(var i=0;i<this._serverSyncs.length;i++){if(this._serverSyncs[i][0]==inst.options.serverSync){serverEntry=this._serverSyncs[i][1];break;}}
if(serverEntry!=null){serverOffset=(inst.options.serverSync?serverEntry:0);now=new Date();}
else{var serverResult=($.isFunction(inst.options.serverSync)?inst.options.serverSync.apply(elem[0],[]):null);now=new Date();serverOffset=(serverResult?now.getTime()-serverResult.getTime():0);this._serverSyncs.push([inst.options.serverSync,serverOffset]);}
var timezone=inst.options.timezone;timezone=(timezone==null?-now.getTimezoneOffset():timezone);if(recalc||(!recalc&&inst._until==null&&inst._since==null)){inst._since=inst.options.since;if(inst._since!=null){inst._since=this.UTCDate(timezone,this._determineTime(inst._since,null));if(inst._since&&serverOffset){inst._since.setMilliseconds(inst._since.getMilliseconds()+serverOffset);}}
inst._until=this.UTCDate(timezone,this._determineTime(inst.options.until,now));if(serverOffset){inst._until.setMilliseconds(inst._until.getMilliseconds()+serverOffset);}}
inst._show=this._determineShow(inst);},_preDestroy:function(elem,inst){this._removeElem(elem[0]);elem.empty();},pause:function(elem){this._hold(elem,'pause');},lap:function(elem){this._hold(elem,'lap');},resume:function(elem){this._hold(elem,null);},toggle:function(elem){var inst=$.data(elem,this.name)||{};this[!inst._hold?'pause':'resume'](elem);},toggleLap:function(elem){var inst=$.data(elem,this.name)||{};this[!inst._hold?'lap':'resume'](elem);},_hold:function(elem,hold){var inst=$.data(elem,this.name);if(inst){if(inst._hold=='pause'&&!hold){inst._periods=inst._savePeriods;var sign=(inst._since?'-':'+');inst[inst._since?'_since':'_until']=this._determineTime(sign+inst._periods[0]+'y'+
sign+inst._periods[1]+'o'+sign+inst._periods[2]+'w'+
sign+inst._periods[3]+'d'+sign+inst._periods[4]+'h'+
sign+inst._periods[5]+'m'+sign+inst._periods[6]+'s');this._addElem(elem);}
inst._hold=hold;inst._savePeriods=(hold=='pause'?inst._periods:null);$.data(elem,this.name,inst);this._updateCountdown(elem,inst);}},getTimes:function(elem){var inst=$.data(elem,this.name);return(!inst?null:(inst._hold=='pause'?inst._savePeriods:(!inst._hold?inst._periods:this._calculatePeriods(inst,inst._show,inst.options.significant,new Date()))));},_determineTime:function(setting,defaultTime){var self=this;var offsetNumeric=function(offset){var time=new Date();time.setTime(time.getTime()+offset*1000);return time;};var offsetString=function(offset){offset=offset.toLowerCase();var time=new Date();var year=time.getFullYear();var month=time.getMonth();var day=time.getDate();var hour=time.getHours();var minute=time.getMinutes();var second=time.getSeconds();var pattern=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g;var matches=pattern.exec(offset);while(matches){switch(matches[2]||'s'){case's':second+=parseInt(matches[1],10);break;case'm':minute+=parseInt(matches[1],10);break;case'h':hour+=parseInt(matches[1],10);break;case'd':day+=parseInt(matches[1],10);break;case'w':day+=parseInt(matches[1],10)*7;break;case'o':month+=parseInt(matches[1],10);day=Math.min(day,self._getDaysInMonth(year,month));break;case'y':year+=parseInt(matches[1],10);day=Math.min(day,self._getDaysInMonth(year,month));break;}
matches=pattern.exec(offset);}
return new Date(year,month,day,hour,minute,second,0);};var time=(setting==null?defaultTime:(typeof setting=='string'?offsetString(setting):(typeof setting=='number'?offsetNumeric(setting):setting)));if(time)time.setMilliseconds(0);return time;},_getDaysInMonth:function(year,month){return 32-new Date(year,month,32).getDate();},_normalLabels:function(num){return num;},_generateHTML:function(inst){var self=this;inst._periods=(inst._hold?inst._periods:this._calculatePeriods(inst,inst._show,inst.options.significant,new Date()));var shownNonZero=false;var showCount=0;var sigCount=inst.options.significant;var show=$.extend({},inst._show);for(var period=Y;period<=S;period++){shownNonZero|=(inst._show[period]=='?'&&inst._periods[period]>0);show[period]=(inst._show[period]=='?'&&!shownNonZero?null:inst._show[period]);showCount+=(show[period]?1:0);sigCount-=(inst._periods[period]>0?1:0);}
var showSignificant=[false,false,false,false,false,false,false];for(var period=S;period>=Y;period--){if(inst._show[period]){if(inst._periods[period]){showSignificant[period]=true;}
else{showSignificant[period]=sigCount>0;sigCount--;}}}
var labels=(inst.options.compact?inst.options.compactLabels:inst.options.labels);var whichLabels=inst.options.whichLabels||this._normalLabels;var showCompact=function(period){var labelsNum=inst.options['compactLabels'+whichLabels(inst._periods[period])];return(show[period]?self._translateDigits(inst,inst._periods[period])+
(labelsNum?labelsNum[period]:labels[period])+' ':'');};var minDigits=(inst.options.padZeroes?2:1);var showFull=function(period){var labelsNum=inst.options['labels'+whichLabels(inst._periods[period])];return((!inst.options.significant&&show[period])||(inst.options.significant&&showSignificant[period])?'<span class="'+self._sectionClass+'">'+'<span class="'+self._amountClass+'">'+
self._minDigits(inst,inst._periods[period],minDigits)+'</span>'+'<span class="'+self._periodClass+'">'+
(labelsNum?labelsNum[period]:labels[period])+'</span></span>':'');};return(inst.options.layout?this._buildLayout(inst,show,inst.options.layout,inst.options.compact,inst.options.significant,showSignificant):((inst.options.compact?'<span class="'+this._rowClass+' '+this._amountClass+
(inst._hold?' '+this._holdingClass:'')+'">'+
showCompact(Y)+showCompact(O)+showCompact(W)+showCompact(D)+
(show[H]?this._minDigits(inst,inst._periods[H],2):'')+
(show[M]?(show[H]?inst.options.timeSeparator:'')+
this._minDigits(inst,inst._periods[M],2):'')+
(show[S]?(show[H]||show[M]?inst.options.timeSeparator:'')+
this._minDigits(inst,inst._periods[S],2):''):'<span class="'+this._rowClass+' '+this._showClass+(inst.options.significant||showCount)+
(inst._hold?' '+this._holdingClass:'')+'">'+
showFull(Y)+showFull(O)+showFull(W)+showFull(D)+
showFull(H)+showFull(M)+showFull(S))+'</span>'+
(inst.options.description?'<span class="'+this._rowClass+' '+this._descrClass+'">'+
inst.options.description+'</span>':'')));},_buildLayout:function(inst,show,layout,compact,significant,showSignificant){var labels=inst.options[compact?'compactLabels':'labels'];var whichLabels=inst.options.whichLabels||this._normalLabels;var labelFor=function(index){return(inst.options[(compact?'compactLabels':'labels')+
whichLabels(inst._periods[index])]||labels)[index];};var digit=function(value,position){return inst.options.digits[Math.floor(value/position)%10];};var subs={desc:inst.options.description,sep:inst.options.timeSeparator,yl:labelFor(Y),yn:this._minDigits(inst,inst._periods[Y],1),ynn:this._minDigits(inst,inst._periods[Y],2),ynnn:this._minDigits(inst,inst._periods[Y],3),y1:digit(inst._periods[Y],1),y10:digit(inst._periods[Y],10),y100:digit(inst._periods[Y],100),y1000:digit(inst._periods[Y],1000),ol:labelFor(O),on:this._minDigits(inst,inst._periods[O],1),onn:this._minDigits(inst,inst._periods[O],2),onnn:this._minDigits(inst,inst._periods[O],3),o1:digit(inst._periods[O],1),o10:digit(inst._periods[O],10),o100:digit(inst._periods[O],100),o1000:digit(inst._periods[O],1000),wl:labelFor(W),wn:this._minDigits(inst,inst._periods[W],1),wnn:this._minDigits(inst,inst._periods[W],2),wnnn:this._minDigits(inst,inst._periods[W],3),w1:digit(inst._periods[W],1),w10:digit(inst._periods[W],10),w100:digit(inst._periods[W],100),w1000:digit(inst._periods[W],1000),dl:labelFor(D),dn:this._minDigits(inst,inst._periods[D],1),dnn:this._minDigits(inst,inst._periods[D],2),dnnn:this._minDigits(inst,inst._periods[D],3),d1:digit(inst._periods[D],1),d10:digit(inst._periods[D],10),d100:digit(inst._periods[D],100),d1000:digit(inst._periods[D],1000),hl:labelFor(H),hn:this._minDigits(inst,inst._periods[H],1),hnn:this._minDigits(inst,inst._periods[H],2),hnnn:this._minDigits(inst,inst._periods[H],3),h1:digit(inst._periods[H],1),h10:digit(inst._periods[H],10),h100:digit(inst._periods[H],100),h1000:digit(inst._periods[H],1000),ml:labelFor(M),mn:this._minDigits(inst,inst._periods[M],1),mnn:this._minDigits(inst,inst._periods[M],2),mnnn:this._minDigits(inst,inst._periods[M],3),m1:digit(inst._periods[M],1),m10:digit(inst._periods[M],10),m100:digit(inst._periods[M],100),m1000:digit(inst._periods[M],1000),sl:labelFor(S),sn:this._minDigits(inst,inst._periods[S],1),snn:this._minDigits(inst,inst._periods[S],2),snnn:this._minDigits(inst,inst._periods[S],3),s1:digit(inst._periods[S],1),s10:digit(inst._periods[S],10),s100:digit(inst._periods[S],100),s1000:digit(inst._periods[S],1000)};var html=layout;for(var i=Y;i<=S;i++){var period='yowdhms'.charAt(i);var re=new RegExp('\\{'+period+'<\\}([\\s\\S]*)\\{'+period+'>\\}','g');html=html.replace(re,((!significant&&show[i])||(significant&&showSignificant[i])?'$1':''));}
$.each(subs,function(n,v){var re=new RegExp('\\{'+n+'\\}','g');html=html.replace(re,v);});return html;},_minDigits:function(inst,value,len){value=''+value;if(value.length>=len){return this._translateDigits(inst,value);}
value='0000000000'+value;return this._translateDigits(inst,value.substr(value.length-len));},_translateDigits:function(inst,value){return(''+value).replace(/[0-9]/g,function(digit){return inst.options.digits[digit];});},_determineShow:function(inst){var format=inst.options.format;var show=[];show[Y]=(format.match('y')?'?':(format.match('Y')?'!':null));show[O]=(format.match('o')?'?':(format.match('O')?'!':null));show[W]=(format.match('w')?'?':(format.match('W')?'!':null));show[D]=(format.match('d')?'?':(format.match('D')?'!':null));show[H]=(format.match('h')?'?':(format.match('H')?'!':null));show[M]=(format.match('m')?'?':(format.match('M')?'!':null));show[S]=(format.match('s')?'?':(format.match('S')?'!':null));return show;},_calculatePeriods:function(inst,show,significant,now){inst._now=now;inst._now.setMilliseconds(0);var until=new Date(inst._now.getTime());if(inst._since){if(now.getTime()<inst._since.getTime()){inst._now=now=until;}
else{now=inst._since;}}
else{until.setTime(inst._until.getTime());if(now.getTime()>inst._until.getTime()){inst._now=now=until;}}
var periods=[0,0,0,0,0,0,0];if(show[Y]||show[O]){var lastNow=this._getDaysInMonth(now.getFullYear(),now.getMonth());var lastUntil=this._getDaysInMonth(until.getFullYear(),until.getMonth());var sameDay=(until.getDate()==now.getDate()||(until.getDate()>=Math.min(lastNow,lastUntil)&&now.getDate()>=Math.min(lastNow,lastUntil)));var getSecs=function(date){return(date.getHours()*60+date.getMinutes())*60+date.getSeconds();};var months=Math.max(0,(until.getFullYear()-now.getFullYear())*12+until.getMonth()-now.getMonth()+
((until.getDate()<now.getDate()&&!sameDay)||(sameDay&&getSecs(until)<getSecs(now))?-1:0));periods[Y]=(show[Y]?Math.floor(months/12):0);periods[O]=(show[O]?months-periods[Y]*12:0);now=new Date(now.getTime());var wasLastDay=(now.getDate()==lastNow);var lastDay=this._getDaysInMonth(now.getFullYear()+periods[Y],now.getMonth()+periods[O]);if(now.getDate()>lastDay){now.setDate(lastDay);}
now.setFullYear(now.getFullYear()+periods[Y]);now.setMonth(now.getMonth()+periods[O]);if(wasLastDay){now.setDate(lastDay);}}
var diff=Math.floor((until.getTime()-now.getTime())/1000);var extractPeriod=function(period,numSecs){periods[period]=(show[period]?Math.floor(diff/numSecs):0);diff-=periods[period]*numSecs;};extractPeriod(W,604800);extractPeriod(D,86400);extractPeriod(H,3600);extractPeriod(M,60);extractPeriod(S,1);if(diff>0&&!inst._since){var multiplier=[1,12,4.3482,7,24,60,60];var lastShown=S;var max=1;for(var period=S;period>=Y;period--){if(show[period]){if(periods[lastShown]>=max){periods[lastShown]=0;diff=1;}
if(diff>0){periods[period]++;diff=0;lastShown=period;max=1;}}
max*=multiplier[period];}}
if(significant){for(var period=Y;period<=S;period++){if(significant&&periods[period]){significant--;}
else if(!significant){periods[period]=0;}}}
return periods;}});})(jQuery);;byId=function(id)
{return document.getElementById(id);};byClass=function(className)
{return document.getElementsByClassName(className);};byTag=function(tag)
{return document.getElementsByTagName(tag);};$$=function(selector)
{if(typeof selector=='undefined')return null;if(selector==='')return null;return(selector.substring(0,1)==='#')?document.getElementById(selector.substring(1)):document.querySelectorAll(selector);};Element.prototype.addClass=function(className){this.classList.add(className);};Element.prototype.hasClass=function(className){return this.classList.contains(className);};Element.prototype.removeClass=function(className){this.classList.remove(className);};if(!Array.prototype.forEach){Array.prototype.forEach=function(callback,thisArg){var T,k;if(this===null){throw new TypeError(' this is null or not defined');}
var O=Object(this);var len=O.length>>>0;if(typeof callback!=="function"){throw new TypeError(callback+' is not a function');}
if(arguments.length>1){T=thisArg;}k=0;while(k<len){var kValue;if(k in O){kValue=O[k];callback.call(T,kValue,k,O);}k++;}};}
NodeList.prototype.forEach=Array.prototype.forEach;Element.prototype.on=function(event,callback){this[addEventListener?'addEventListener':'attachEvent'](addEventListener?event:'on'+event,callback);};NodeList.prototype.on=function(event,callback){this.forEach(function(e){e.on(event,callback);});};var ls=localStorage;var ss=sessionStorage;var gr={version:'0.01',debug:true,loader_class:'loader',mobile:false,lang:'en',log:function(error)
{if(gr.debug&&typeof console!=="undefined")
console.log(error);},loader:function(show,message)
{if(typeof show=='undefined')show=true;if(typeof message=='undefined')message='';if(show)
{if(!$$('#gr_loader'))
$('body').append('<div class="loader" id="gr_loader"><div class="spinner"></div><i></i><span>'+message+'</span></div>');else
$('#gr_loader span').html(message);$('#gr_loader').fadeIn();}
else
$('#gr_loader').fadeOut();},displayErrors:function(data)
{$('#'+data.field+'_error').remove();if(typeof data.errors=='undefined')return;var error_msg='';for(var i=0;i<data.errors.length;i++)
{BR=(error_msg!=='')?'<br />':'';error_msg+=BR+data.errors[i];}
$('#'+data.field).after('<span class="help-inline error" id="'+data.field+'_error">'+error_msg+'</span>');},cookie:function(cookie_name,value,expiration)
{if(typeof value=='undefined')
{if(!cookie_name)return false;return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(cookie_name).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||false;}
else
{if(value===false)
{document.cookie=encodeURIComponent(cookie_name)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";return true;}
else
{if(!cookie_name||/^(?:expires|max\-age|path|domain|secure)$/i.test(cookie_name))return false;var sExpires="";if(expiration)
{switch(expiration.constructor)
{case Number:sExpires=expiration===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+expiration;break;case String:sExpires="; expires="+expiration;break;case Date:sExpires="; expires="+expiration.toUTCString();break;}}
document.cookie=encodeURIComponent(cookie_name)+"="+encodeURIComponent(value)+sExpires+"; path=/";return true;}}},preventDefault:function(ev)
{if(ev.preventDefault){ev.preventDefault();}
else
{ev.returnValue=false;}},};function sleep(milliseconds)
{var start=new Date().getTime();for(var i=0;i<1e7;i++)
{if((new Date().getTime()-start)>milliseconds)break;}}
function redirect(data)
{if(typeof data=='undefined')
{if((window.location.href.match(/#/g)||[]).length>0)
window.location.reload();else
window.location.href=window.location.href;}
else if(typeof data.redirect_url!='undefined')
window.location.href=data.redirect_url;else
window.location.href=data;}
var pu_window;function pu(pu_url)
{var pu_width=$(window).width()-200;var pu_height=$(window).height()-50;var b="toolbar=0,statusbar=1,resizable=1,scrollbars=0,menubar=0,location=1,directories=0";if(navigator.userAgent.indexOf("Chrome")!=-1)b="scrollbar=yes";var a=window.open("about:blank","",b+",height="+pu_height+",width="+pu_width);if(navigator.userAgent.indexOf("rv:2.")!=-1)
{a.puPop=function(c){if(navigator.userAgent.indexOf("rv:2.")!=-1)this.window.open("about:blank").close();this.document.location.href=c;};a.puPop(pu_url);}
else
a.document.location.href=pu_url;setTimeout(window.focus,200);window.focus();if(a)
{a.moveTo(window.screenX+2,window.screenY+2);a.blur();self.focus();}
else
{done_pu=null;ifSP2=false;if(typeof(pu_window)=="undefined")pu_window=false;if(window.SymRealWinOpen)open=SymRealWinOpen;if(window.NS_ActualOpen)open=NS_ActualOpen;ifSP2=(navigator.userAgent.indexOf("SV1")!=-1);if(!ifSP2)
do_pu();else
{if(window.Event)document.captureEvents(Event.CLICK);document.onclick=do_clicked_pu;}
self.focus();do_clicked_pu();}
return this;}
function do_pu()
{if(!pu_window){done_pu=open(pu_url,"","toolbar=1,location=1,directories=0,status=1,menubar=1,scrollbars=1,resizable=1");if(done_pu)
{pu_window=true;self.focus();}}}
function do_clicked_pu()
{if(!pu_window)
{if(!ifSP2)
{done_pu=open(pu_url,"","toolbar=1,location=1,directories=0,status=1,menubar=1,scrollbars=1,resizable=1");self.focus();if(done_pu)pu_window=true;}}
if(!pu_window)
{if(window.Event)document.captureEvents(Event.CLICK);document.onclick=do_pu;self.focus();}}
function clear_errors()
{clear_input_errors();$('div.alert:not(.fix_alert)').remove();}
function clear_input_errors()
{$('input.error').removeClass('error');$('span.error').remove();}
function display_input_errors(data,field_prefix,form_container)
{spinner_off();gr.loader(false);if(typeof field_prefix=='undefined')field_prefix='';clear_input_errors();if(typeof data=='string')
$('#'+form_container+' form button:last-child').before('<div class="alert danger zoomIn"><i class="flaticon-exclamation"></i><p>'+data+'</p></div>');else
{for(var field in data)
{var errors=data[field];$('#'+field_prefix+field+'_error').remove();if(typeof errors=='undefined')return;$('#'+field_prefix+field).addClass('error').parent().after('<span class="error login-error">'+errors[0]+'</span>');if($('#'+field_prefix+field).data('label'))$('#'+field_prefix+field).siblings(".error").children('strong.error_field').html($('#'+field_prefix+field).data('label'));}
$('span.error').animate({opacity:1});}}
function set_box_events(box_name,clear_display_errors)
{if(typeof clear_display_errors=='undefined')clear_display_errors=true;if(clear_display_errors)clear_errors();$('.gr_to_show_onmessage').hide();$('.gr_to_hide_onmessage').show();$('#gr_'+box_name+'box .reset-input').unbind();$('#gr_'+box_name+'box .reset-input').on('click',function()
{if($(this).siblings('input').val()!=='')$(this).siblings('input').val('').focus();$(this).siblings('input').removeClass('error').parent().next('span.error').remove();return false;});$('#gr_'+box_name+'box input').unbind();$('#gr_'+box_name+'box input').on('blur',function()
{if(!$(this).val())
$(this).removeClass('hascontent');else
$(this).addClass('hascontent');});$('input').each(function()
{if(!$(this).val())
$(this).removeClass('hascontent');else
$(this).addClass('hascontent');});$('#gr_'+box_name+'box input').on('keyup',function(){$(this).removeClass('error').parent().next('span.error').remove();});$('body').css('overflow','hidden');$('.gr_box:not(.nolo_anime)').animate({top:100,opacity:0},function()
{$(this).hide();$('#gr_'+box_name+'box').show();if($('#gr_'+box_name+'box').hasClass('nolo_anime'))
$('#gr_'+box_name+'box').hasClass('nolo_anime').removeClass('nolo_anime');else
$('#gr_'+box_name+'box').animate({top:0,opacity:1},function(){$('body').css('overflow','visible');});});if($('.gr_box.nolo_anime'))$('body').css('overflow','visible');$('.gr_box').removeClass('nolo_anime');$('#register-show-password').on('change',function()
{if($(this).is(':checked'))
$('#register-password').attr('type','text');else
$('#register-password').attr('type','password');});$('#gr_login_recaptcha_container').empty();$('#gr_login_recaptcha_container').data('wid','');$('#gr_register_recaptcha_container').empty();$('#gr_register_recaptcha_container').data('wid','');$('#gr_lostpassword_recaptcha_container').empty();$('#gr_lostpassword_recaptcha_container').data('wid','');if((box_name=='register')&&$$('#gr_register_recaptcha_container'))
{$('#register-username, #register-email').on('blur',function()
{if(($$('#register-username').value!=='')&&($$('#register-email').value!=='')&&($('#gr_register_recaptcha_container').data('wid')===''))
{var recaptcha_widget_id=grecaptcha.render('gr_register_recaptcha_container',{'sitekey':RE_CAPTCHA_API_KEY});$('#gr_register_recaptcha_container').data('wid',recaptcha_widget_id);}});}
else if((box_name=='lostpassword')&&$$('#gr_lostpassword_recaptcha_container'))
{$('#password-recover').on('keyup',function()
{if(($$('#password-recover').value!=='')&&($('#gr_lostpassword_recaptcha_container').data('wid')===''))
{var recaptcha_widget_id=grecaptcha.render('gr_lostpassword_recaptcha_container',{'sitekey':RE_CAPTCHA_API_KEY});$('#gr_lostpassword_recaptcha_container').data('wid',recaptcha_widget_id);}});}}
function spinner_on(disable_inputs)
{$('.login-error').remove();if((typeof disable_inputs!='undefined')&&disable_inputs)
{var input_list=$$('input');for(var i=0;i<input_list.length;i++)
{input_list[i].disabled=true;}}
$('.spinner_button').prop('disabled','disabled');$('.spinner_button').prepend('<div class="spinner button-spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>');}
function spinner_off(box_name)
{var input_list=$$('input');for(var i=0;i<input_list.length;i++)
{input_list[i].disabled=false;}
$('.spinner_button').prop('disabled','');$('.spinner').remove();}
function display_password_strength(password)
{$('.password-result-container span').hide();if(password.length===0)return;var strength=0;if(password.length>7)strength+=1;if(password.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/))strength+=1;if(password.match(/([a-zA-Z])/)&&password.match(/([0-9])/))strength+=1;if(password.match(/([!,%,&,@,#,$,^,*,?,_,~])/))strength+=1;if(password.match(/(.*[!,%,&,@,#,$,^,*,?,_,~].*[!,%,&,@,#,$,^,*,?,_,~])/))strength+=1;if(password.length<6)
$('.password-result-container span.short').show();else if(strength<2)
$('.password-result-container span.weak').show();else if(strength==2)
$('.password-result-container span.good').show();else
$('.password-result-container span.strong').show();}
function twpopup(popwhat){window.open(popwhat,"twshare","height=400,width=550,resizable=1,toolbar=0,menubar=0,status=0,location=0");}
function fbpopup(popwhat){window.open(popwhat,"fbshare","height=380,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0");}
function pinpopup(popwhat){window.open(popwhat,"pinshare","height=270,width=630,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0");}
function glpopup(popwhat){window.open(popwhat,"glshare","height=270,width=630,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0");}
function stbpopup(popwhat){window.open(popwhat,"stbshare","height=270,width=630,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0");}
!function(a){"use strict";function b(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;16>c;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}"function"==typeof define&&define.amd?define(function(){return t}):a.md5=t}(this);if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))gr.mobile=true;$(function(){gr.lang=(typeof $('body').data('lang')!='undefined')?$('body').data('lang'):'en';});;if(typeof gr.friwol!=='undefined')gr.log('gr.friwol ya está definido');gr.friwol={container_selector:'.friwol_slides',slide_selector:'.friwol_slide',hide_body_overflow:false,min_slide_width:130,max_slide_width:150,min_margin_width:10,max_margin_width:15,max_num_lines:false,fix_at_init:true,fix_shutterstock:false,show_more:false,debug:false,debug2:false,_container_width:false,_container_height:false,_slide_width:false,_slide_height:false,_slide_margin_width:false,_slide_margin_height:false,_slides_per_line:0,_im_on_a_iframe:false,init:function()
{if(typeof $(gr.friwol.container_selector).data('hide-body-overflow')!=='undefined')gr.friwol.hide_body_overflow=($(gr.friwol.container_selector).data('hide-body-overflow')=='1');if(typeof $(gr.friwol.container_selector).data('min-slide-width')!=='undefined')gr.friwol.min_slide_width=parseInt($(gr.friwol.container_selector).data('min-slide-width'),10);if(typeof $(gr.friwol.container_selector).data('max-slide-width')!=='undefined')gr.friwol.max_slide_width=parseInt($(gr.friwol.container_selector).data('max-slide-width'),10);if(typeof $(gr.friwol.container_selector).data('min-margin-width')!=='undefined')gr.friwol.min_margin_width=parseInt($(gr.friwol.container_selector).data('min-margin-width'),10);if(typeof $(gr.friwol.container_selector).data('max-margin-width')!=='undefined')gr.friwol.max_margin_width=parseInt($(gr.friwol.container_selector).data('max-margin-width'),10);if(typeof $(gr.friwol.container_selector).data('max-num-lines')!=='undefined')gr.friwol.max_num_lines=parseInt($(gr.friwol.container_selector).data('max-num-lines'),10);if(typeof $(gr.friwol.container_selector).data('fix-at-init')!=='undefined')gr.friwol.fix_at_init=($(gr.friwol.container_selector).data('fix-at-init')==1);if(typeof $(gr.friwol.container_selector).data('fix-shutterstock')!=='undefined')gr.friwol.fix_shutterstock=($(gr.friwol.container_selector).data('fix-shutterstock')==1);if(typeof $(gr.friwol.container_selector).data('show-more')!=='undefined')gr.friwol.show_more=($(gr.friwol.container_selector).data('show-more')==1);if(gr.friwol.hide_body_overflow)$('body').css('overflow','hidden');if(!gr.friwol.min_slide_width&&gr.friwol.max_slide_width)gr.friwol.min_slide_width=gr.friwol.max_slide_width;if(gr.friwol.min_slide_width&&!gr.friwol.max_slide_width)gr.friwol.max_slide_width=gr.friwol.min_slide_width;if(!gr.friwol.min_margin_width&&gr.friwol.max_margin_width)gr.friwol.min_margin_width=gr.friwol.max_margin_width;if(gr.friwol.min_margin_width&&!gr.friwol.max_margin_width)gr.friwol.max_margin_width=gr.friwol.min_margin_width;gr.friwol._slide_width=$(gr.friwol.slide_selector).width();gr.friwol._slide_height=$(gr.friwol.slide_selector).height();gr.friwol._slide_margin_width=parseInt($(gr.friwol.slide_selector).css('margin-right'),10);gr.friwol._slide_margin_height=parseInt($(gr.friwol.slide_selector).css('margin-bottom'),10);try{gr.friwol._im_on_a_iframe=(window.self!==window.top);}
catch(e){gr.friwol._im_on_a_iframe=true;}
gr.friwol.responsive(gr.friwol.fix_at_init);},get_magic_with_maths:function()
{var min_num_slides=(gr.friwol._container_width+gr.friwol.max_margin_width)/(gr.friwol.max_slide_width+gr.friwol.max_margin_width);var max_num_slides=(gr.friwol._container_width+gr.friwol.min_margin_width)/(gr.friwol.min_slide_width+gr.friwol.min_margin_width);if(gr.friwol.debug)console.log('container_width: '+gr.friwol._container_width+', min_num_slides: '+min_num_slides+', max_num_slides: '+max_num_slides);var slide_width=0;var slide_height=0;var num_slides_por_linea=0;var margin_width=0;var width_sobrante=0;if(Math.floor(min_num_slides)==Math.floor(max_num_slides))
{var min_num_slides_overflow=gr.friwol._container_width-((Math.floor(min_num_slides)*(gr.friwol.max_slide_width+gr.friwol.max_margin_width))-gr.friwol.max_margin_width);var max_num_slides_overflow=gr.friwol._container_width-((Math.ceil(max_num_slides)*(gr.friwol.min_slide_width+gr.friwol.min_margin_width))-gr.friwol.min_margin_width);if(gr.friwol.debug)console.log('container_width: '+gr.friwol._container_width+', min_num_slides_overflow: '+min_num_slides_overflow+', max_num_slides_overflow: '+max_num_slides_overflow);if(Math.abs(min_num_slides_overflow)<Math.abs(max_num_slides_overflow))
{num_slides_por_linea=Math.floor(min_num_slides);slide_width=gr.friwol.max_slide_width;margin_width=gr.friwol.max_margin_width+Math.floor(min_num_slides_overflow/(num_slides_por_linea-1));if(gr.friwol.debug)console.log('Opto por en numero minimo de slides: '+num_slides_por_linea);}
else
{num_slides_por_linea=Math.ceil(max_num_slides);slide_width=gr.friwol.min_slide_width;margin_width=gr.friwol.min_margin_width+Math.floor(max_num_slides_overflow/(num_slides_por_linea-1));if(margin_width<0)
{margin_width=0;slide_width=Math.floor(gr.friwol._container_width/num_slides_por_linea);}
if(gr.friwol.debug)console.log('Opto por en numero maximo de slides: '+num_slides_por_linea+', slide_width: '+slide_width+', margin_width: '+margin_width);}}
else if(Math.ceil(min_num_slides)==Math.floor(max_num_slides))
{num_slides_por_linea=Math.floor(max_num_slides);margin_width=gr.friwol.min_margin_width;slide_width=Math.floor((gr.friwol._container_width-(margin_width*(num_slides_por_linea-1)))/num_slides_por_linea);if(slide_width>gr.friwol.max_slide_width)slide_width=gr.friwol.max_slide_width;if(gr.friwol.debug)console.log('Opto por el numero perfecto de slides: '+num_slides_por_linea);}
else
{if(gr.friwol.debug)console.log('Toca buscar la combinación perfecta entre '+Math.ceil(min_num_slides)+' y '+Math.floor(max_num_slides));num_slides_por_linea=Math.ceil(min_num_slides);slide_width=gr.friwol.max_slide_width;var cur_width_sobrante=false;for(var n=Math.ceil(min_num_slides);n<=Math.floor(max_num_slides);n++)
{for(var p=gr.friwol.max_slide_width;p>=gr.friwol.min_slide_width;p--)
{margin_width=gr.friwol.min_margin_width+Math.floor((gr.friwol._container_width-(p*n))/(n-1))-gr.friwol.min_margin_width;if(margin_width<gr.friwol.min_margin_width)continue;if(margin_width==gr.friwol.min_margin_width)
{num_slides_por_linea=n;slide_width=p;cur_width_sobrante=true;break;}
width_sobrante=gr.friwol._container_width-(((p+margin_width)*(n-1))+p);if(cur_width_sobrante===false)
{num_slides_por_linea=n;slide_width=p;cur_width_sobrante=width_sobrante;continue;}
if(width_sobrante>cur_width_sobrante)
{cur_width_sobrante=true;break;}}
if(cur_width_sobrante===true)break;}}
slide_height=Math.round((slide_width*gr.friwol._slide_height)/gr.friwol._slide_width);if(num_slides_por_linea==1)
margin_width=gr.friwol._container_width-slide_width;else
margin_width=gr.friwol.min_margin_width+Math.floor((gr.friwol._container_width-(slide_width*num_slides_por_linea))/(num_slides_por_linea-1))-gr.friwol.min_margin_width;width_sobrante=gr.friwol._container_width-(((slide_width+margin_width)*(num_slides_por_linea-1))+slide_width);if(gr.friwol.debug)console.log('container_width: '+gr.friwol._container_width+', num_slides_por_linea: '+num_slides_por_linea+', slide_width: '+slide_width+', margin_width: '+margin_width+', width_sobrante: '+width_sobrante);return{num_slides_por_linea:num_slides_por_linea,slide_width:slide_width,slide_height:slide_height,margin_width:margin_width,width_sobrante:width_sobrante};},responsive:function(fix_imgs)
{if(gr.friwol.debug)console.log('function: responsive'+((fix_imgs)?' - fix_imgs':'')+((gr.friwol._im_on_a_iframe)?' - on iframe':''));if(typeof fix_imgs=='undefined')fix_imgs=true;if(gr.friwol._im_on_a_iframe)
{var iframe_dimensions=gr.friwol.get_client_size();gr.friwol._container_width=iframe_dimensions.width-2;gr.friwol._container_height=iframe_dimensions.height;}
else
{gr.friwol._container_width=$(gr.friwol.container_selector).width();gr.friwol._container_height=$(gr.friwol.container_selector).height();}
var new_dimensions=gr.friwol.get_magic_with_maths();gr.friwol._slides_per_line=new_dimensions.num_slides_por_linea;var margin_width_portion=new_dimensions.margin_width/2;if(gr.friwol.debug)console.log('imgs_width: '+new_dimensions.slide_width+', imgs_height: '+new_dimensions.slide_height+', margin_width_portion: '+margin_width_portion);$(gr.friwol.slide_selector).removeClass('last_slide_of_row');var max_num_lines=gr.friwol.max_num_lines;if(gr.friwol._im_on_a_iframe)
{max_num_lines=Math.floor(gr.friwol._container_height/(new_dimensions.slide_height+parseInt($(gr.friwol.slide_selector).css('margin-top'),10)+parseInt($(gr.friwol.slide_selector).css('margin-bottom'),10)));if(gr.friwol.debug)console.log('max_num_lines: '+max_num_lines);}
var i=1;var linea=1;var width_a_repartir_left=Math.floor(new_dimensions.width_sobrante/2);var width_a_repartir_right=new_dimensions.width_sobrante-width_a_repartir_left;$(gr.friwol.slide_selector).each(function(){$(this).css('width',new_dimensions.slide_width);$(this).css('height',new_dimensions.slide_height);$(this).data('friwol-row',linea);if(max_num_lines)
{if(linea>max_num_lines)
$(this).css('opacity',0);else
$(this).css('opacity',1);}
if(fix_imgs)gr.friwol.fix_slide(this);if(i==(new_dimensions.num_slides_por_linea*linea))
{$(this).css('margin-left',margin_width_portion);$(this).css('margin-right',0).addClass('last_slide_of_row');linea++;width_a_repartir_left=Math.floor(new_dimensions.width_sobrante/2);width_a_repartir_right=new_dimensions.width_sobrante-width_a_repartir_left;}
else if((i-1)==(new_dimensions.num_slides_por_linea*(linea-1)))
{$(this).css('margin-left',0);$(this).css('margin-right',margin_width_portion);}
else
{if(width_a_repartir_left>0)
{width_a_repartir_left--;$(this).css('margin-left',margin_width_portion+1);}
else
$(this).css('margin-left',margin_width_portion);if(width_a_repartir_right>0)
{width_a_repartir_right--;$(this).css('margin-right',margin_width_portion+1);}
else
$(this).css('margin-right',margin_width_portion);}
i++;callbackFn=window['friwol_slide_resize_callback'];if(typeof callbackFn==='function')callbackFn($(this));});if(gr.friwol.show_more&&gr.friwol._slides_per_line>1)
{if($('.more_label').width()>new_dimensions.slide_width)
$('.more_label').hide();else
$('.more_label').show();$('.more').css('top',$('.slide.last_slide_of_row')[0].offsetTop).css('left',$('.slide.last_slide_of_row')[0].offsetLeft).css('width',new_dimensions.slide_width).css('height',new_dimensions.slide_height).show();}
else
$('.more').hide();callbackFn=window['friwol_resize_callback'];if(typeof callbackFn==='function')callbackFn();},fix_img:function(img_obj)
{if(typeof img_obj=='undefined')return false;if($(img_obj).length)gr.friwol.fix_slide($(img_obj).closest(gr.friwol.slide_selector));},fix_slide:function(slide_obj)
{if(typeof slide_obj=='undefined')return false;if($(slide_obj).length)
{if(gr.friwol.fix_shutterstock)gr.friwol.fix_img_shutterstock({slide_id:$(slide_obj).attr('id'),img_id:$(slide_obj).data('img-id')});$(slide_obj).find('.friwol_overflow').each(function()
{$(this).css('top',Math.floor(($(this).parent().height()-$(this).height())/2));$(this).css('left',Math.floor(($(this).parent().width()-$(this).width())/2));});}},fix_img_shutterstock:function(data)
{var correction_ratio=2;if((typeof data=='undefined')||(typeof data.slide_id=='undefined')||(typeof data.img_id=='undefined'))return false;var slide_obj=$('#'+data.slide_id);var slide_width=$(slide_obj).width();var slide_height=$(slide_obj).height();if(($('#'+data.img_id+'_large').length>0)&&(slide_width>150))
{$('#'+data.img_id).parent().hide();$('#'+data.img_id+'_large').parent().show();data.img_id=data.img_id+'_large';}
else
{$('#'+data.img_id).parent().show();if($('#'+data.img_id+'_large').length>0)$('#'+data.img_id+'_large').parent().hide();}
var img_obj=$('#'+data.img_id);var original_width=$(img_obj).data('original-width');var original_height=$(img_obj).data('original-height');var real_width=($(img_obj).prop('naturalWidth')!='undefined')?$(img_obj).prop('naturalWidth'):$(img_obj).attr('naturalWidth');var real_height=($(img_obj).prop('naturalHeight')!='undefined')?$(img_obj).prop('naturalHeight'):$(img_obj).attr('naturalHeight');if(gr.friwol.debug2)console.log('slide_width: '+slide_width+', original_width: '+original_width+', real_width: '+real_width);if(gr.friwol.debug2)console.log('slide_height: '+slide_height+', original_height: '+original_height+', real_height: '+real_height);var width_calculated=Math.round((slide_width*original_width)/original_height);var height_calculated=Math.round((slide_height*original_height)/original_width);if(gr.friwol.debug2)console.log('width_calculated: '+width_calculated);if(gr.friwol.debug2)console.log('height_calculated: '+height_calculated);if((original_width!='undefined')&&(Math.abs(original_width-real_width)>correction_ratio))
{if(gr.friwol.debug2)console.log('banda lateral');if(original_width==original_height)
$(img_obj).parent().css('width',slide_width).css('height','');else if(original_width<original_height)
$(img_obj).parent().css('width',width_calculated).css('height','');else
$(img_obj).parent().css('width','').css('height',height_calculated);if(original_width<=original_height)
$(img_obj).css('width','').css('height',slide_height);else
$(img_obj).css('width','').css('height','100%');}
if((original_height!='undefined')&&(Math.abs(original_height-real_height)>correction_ratio))
{if(gr.friwol.debug2)console.log('banda abajo');if(original_width==original_height)
$(img_obj).parent().css('width',width_calculated).css('height',height_calculated);else
$(img_obj).parent().css('width','').css('height',height_calculated);if(original_width>=original_height)
$(img_obj).css('width',slide_width).css('height','');else
$(img_obj).css('width','100%').css('height','');}
if((original_width!='undefined')&&(Math.abs(original_width-real_width)<correction_ratio)&&(original_height!='undefined')&&(Math.abs(original_height-real_height)<correction_ratio))
{if(gr.friwol.debug2)console.log('sin banda');$(img_obj).parent().css('width',slide_width).css('height',slide_height);}},get_client_size:function()
{var my_width=0;var my_height=0;if(typeof(window.innerWidth)=='number')
{my_width=window.innerWidth;my_height=window.innerHeight;}
else if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight))
{my_width=document.documentElement.clientWidth;my_height=document.documentElement.clientHeight;}
else if(document.body&&(document.body.clientWidth||document.body.clientHeight))
{my_width=document.body.clientWidth;my_height=document.body.clientHeight;}
return{width:my_width,height:my_height};}};$(document).ready(function(){gr.friwol.init();$(window).on('resize',gr.friwol.responsive);});